syntax="proto3";

package types;
import "google/protobuf/timestamp.proto";

option go_package="github.com/DEEBBLUE/ExProtos/api/Types";

//User
enum Role{
  ROLE_CLIENT = 0;
  ROLE_OPER = 1;
  ROLE_ADMIN = 2;
}
enum Verif{
  UNVERIFED = 0;
  INPROCESED = 1;
  VERIFED = 2;
}
message User{
  int32 tg_id = 1;
  int32 chat_id = 2;
  int32 owner_id = 3;
  Verif verif_status = 4;
  Role role = 5;
  int32 balance = 6;
}

//Exchange
enum ExchangeStatus{
  CREATED = 0;
  EXINPROCESSED = 1;
  COMPELETED = 2;
  CANCELED = 3;
}
enum ExchangeCurrency{
  SBER = 0;
  TINK = 1;
  ALFA = 2;
  GAZ = 3;
  SBP = 4;
  USDT = 5;
  BTC = 6;
  ETH = 7;
}
message ExchangeData{
  ExchangeCurrency currency = 1;
  float amount = 2;
  string details = 3;
}

message Exchange{
  int32 exchange_id = 1;
  ExchangeData data_in = 2;
  ExchangeData data_out = 3;

  int32 client_id = 4;
  int32 oper_id = 5;
  ExchangeStatus status = 6;
  
  google.protobuf.Timestamp time_start = 7;
  google.protobuf.Timestamp time_end = 8;

  float rate = 9;
}

//Orders
message Order{
  ExchangeCurrency currency_in = 1;
  ExchangeCurrency currency_out = 2;
  float rate = 3;
  float limit_start = 4;
  float limit_end = 5;
}
